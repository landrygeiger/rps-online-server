{"version":3,"sources":["config.js","firebase.js","contexts/AuthContext.js","components/PageHeader.js","contexts/SocketContext.js","components/game/ScoreBubble.js","components/dashboard/MatchCard.js","components/dashboard/PlayedMatchList.js","components/Loader.js","components/dashboard/WLPieChart.js","components/dashboard/PlayerDashboard.js","components/MainPageContentDisplay.js","components/game/Scoreboard.js","components/game/GameButtons.js","components/game/Countdown.js","components/game/GameCompleteDisplay.js","components/game/GameDisplay.js","components/ProtectedRoute.js","components/AuthComponents.js","components/App.js","index.js"],"names":["config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","firebase","initializeApp","auth","db","firestore","AuthContext","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","signup","email","username","password","a","createUserWithEmailAndPassword","userCred","collection","doc","user","uid","set","ranking","xp","matchesPlayed","dateJoined","Date","login","signInWithEmailAndPassword","useEffect","onAuthStateChanged","get","userDoc","data","console","error","value","signout","signOut","Provider","LoginAndSignUpInputs","useLocation","state","redirect","to","pathname","variant","className","style","marginLeft","SignOutAndProfileInputs","setError","history","useHistory","handleSignout","e","push","Alert","disabled","onClick","PageHeader","Navbar","bg","expand","maxWidth","borderRadius","Brand","minHeight","textDecoration","color","fontSize","Toggle","aria-controls","border","Collapse","id","Nav","SocketContext","useSocketContext","SocketProvider","connected","setConnected","socket","setSocket","connect","Promise","resolve","reject","io","on","ScoreBubble","props","matchData","player","number","width","small","height","margin","MatchCard","position","backgroundColor","Row","Col","player1Id","player1","xs","status","winner","textAlign","player2Id","player2","PlayedMatchList","overflowY","overflowX","slice","reverse","map","match","index","Loader","flexGrow","WLPieChart","wLPercent","setWLPercent","wins","forEach","length","background","toFixed","CreateMatch","handleClick","createMatchRequest","then","emit","matchId","PlayerDashboard","userId","useParams","userData","setUserData","setMatchData","exists","all","matchDoc","retrievedMatchData","fetchData","md","Card","Body","animateToNumber","date","dateArr","toString","split","getFormattedDate","toDate","MainPageContent","padding","display","justifyContent","MainPageContentDisplay","Scoreboard","Button","bgStyle","colored","buttonId","shade","GameButtons","setColored","selected","setSelected","matchStatus","disableButtons","move","gameId","Countdown","count","GameCompleteDisplay","GameDisplay","setMatchStatus","copyRef","useRef","joinGame","unsub","asyncWrapper","connectedSocket","admitted","onSnapshot","boxSizing","InputGroup","FormControl","window","location","href","readOnly","ref","current","select","setSelectionRange","document","execCommand","ProtectedRoute","path","SignUp","emailRef","passwordRef","confirmPasswordRef","usernameRef","handleSubmit","preventDefault","Form","onSubmit","Group","Label","Control","type","required","Login","showRedirect","setTimeout","App","Container","exact","component","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5a50e343.chunk.js","sourcesContent":["const config = {\r\n    apiKey: \"AIzaSyBaIFCic3PdUDmvCIMNPdSNpBuap4gpE2o\",\r\n    authDomain: \"rock-paper-scissors-onli-dc6c4.firebaseapp.com\",\r\n    projectId: \"rock-paper-scissors-onli-dc6c4\",\r\n    storageBucket: \"rock-paper-scissors-onli-dc6c4.appspot.com\",\r\n    messagingSenderId: \"97204497145\",\r\n    appId: \"1:97204497145:web:3dd9899fc51de2d9929028\",\r\n    measurementId: \"G-7TP1KX6P4K\"\r\n}\r\n\r\nexport default config;","import firebase from \"firebase/app\"\r\nimport config from \"./config\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\n\r\nconst app = firebase.initializeApp(config);\r\n\r\nexport const auth = app.auth();\r\nexport const db = firebase.firestore();\r\n\r\nexport default app;","import { createContext, useContext, useState, useEffect } from 'react';\r\nimport { auth, db } from \"../firebase\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n    return useContext(AuthContext);\r\n}\r\n\r\n// Context for authentication of user\r\nexport const AuthProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const signup = async (email, username, password) => {\r\n        const userCred = await auth.createUserWithEmailAndPassword(email, password);\r\n        await db.collection(\"users\").doc(userCred.user.uid).set({\r\n            username,\r\n            ranking: 1000,\r\n            xp: 0,\r\n            matchesPlayed: [],\r\n            dateJoined: Date()\r\n        });\r\n    }\r\n\r\n    const login = async (email, password) => {\r\n        await auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    const signout = () => {\r\n        return auth.signOut();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(async user => {\r\n            try {\r\n                if (user) {\r\n                    const userDoc = await db.collection(\"users\").doc(user.uid).get();\r\n                    user.username = userDoc.data().username;\r\n                }\r\n\r\n            } catch {\r\n                console.error(\"oops\");\r\n            }\r\n            setCurrentUser(user);\r\n            setLoading(false);\r\n        });\r\n\r\n        return unsubscribe;\r\n    }, []) \r\n    \r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        login,\r\n        signout\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    );\r\n}","import { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { Button, Container, Alert, Navbar, Nav } from \"react-bootstrap\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\n// Styling for inner header container (keeps header items within an area of 1200px )\r\nconst innerStyle = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n}\r\n\r\n// Styling for outer header container (white bar across screen and centers inside items)\r\nconst outerStyle = {\r\n    height: \"125px\",\r\n    width: \"100%\",\r\n    maxWidth: \"1500px\",\r\n    margin: \"0 auto\",\r\n    backgroundColor: \"white\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: \"0 0 15px 15px\"\r\n}\r\n\r\n// Main Heading Component\r\nconst PageHeader = () => {\r\n    const { currentUser } = useAuth();\r\n\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"md\" style={{maxWidth: \"1500px\", borderRadius: \"0 0 15px 15px\"}} className=\"mx-auto shadow px-5\">\r\n            <Navbar.Brand style={{minHeight: \"100px\"}} className=\"d-flex align-items-center\">\r\n                <Link to=\"/\" style={{textDecoration: \"none\", color: \"black\"}}>\r\n                    <p className=\"text-title\"><i className=\"fas fa-signal\" style={{color: \"#0275d8\", fontSize: 17}} /> Rock Paper Scissors Online</p>\r\n                </Link>\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"navbar-nav\" style={{border: \"none\"}} />\r\n            <Navbar.Collapse id=\"navbar-nav\">\r\n                <Nav className=\"d-flex justify-content-end w-100\">\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        { currentUser ? <SignOutAndProfileInputs /> : <LoginAndSignUpInputs /> }\r\n                    </div>\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n        /* <div className=\"shadow\" style={outerStyle}>\r\n            <Container style={innerStyle}>\r\n                <Link to=\"/\" style={{textDecoration: \"none\", color: \"black\"}}>\r\n                    <h2><i className=\"fas fa-signal\" style={{color: \"#0275d8\"}}></i> Rock Paper Scissors Online</h2>\r\n                </Link>\r\n\r\n                <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                    { !currentUser ? <LoginAndSignUpInputs /> : <SignOutAndProfileInputs /> }\r\n                </div>\r\n            </Container>\r\n            </div> */\r\n    );\r\n}\r\n\r\n// Contains log in and sign up buttons\r\nconst LoginAndSignUpInputs = () => {\r\n    const [redirect, setRedirect] = useState(useLocation().state?.redirect ?? \"/\");\r\n\r\n    return (\r\n        <>\r\n            <Link to={{pathname: \"/login\", state: { redirect }}}>\r\n                <Button variant=\"primary\"><i className=\"far fa-user\"></i> Login</Button>\r\n            </Link>\r\n            <Link to={{pathname: \"/signup\", state: { redirect }}}>\r\n                <Button variant=\"outline-primary\" style={{marginLeft: \"15px\"}}><i className=\"far fa-edit\"></i> Sign Up</Button>\r\n            </Link>\r\n        </>\r\n    );\r\n}\r\n\r\n// Contains sign out and profile link \"buttons\"\r\nconst SignOutAndProfileInputs = () => {\r\n    const { currentUser, signout } = useAuth();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    const handleSignout = async (e) => {\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await signout();\r\n            setLoading(false);\r\n            history.push(\"/\")\r\n        } catch {\r\n            setError(\"Failed to sign out\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex align-items-center\">\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <p className=\"mx-3 my-auto\">{currentUser.username}</p>\r\n            <Button disabled={loading} variant=\"outline-primary\" onClick={handleSignout}>Sign Out</Button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PageHeader;","import { createContext, useContext, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst SocketContext = createContext();\r\n\r\nexport const useSocketContext = () => {\r\n    return useContext(SocketContext);\r\n}\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n    const [connected, setConnected] = useState(false);\r\n    const [socket, setSocket] = useState();\r\n\r\n    const connect = () => {\r\n        // Promise that resolves once connection to server is established\r\n        return new Promise((resolve, reject) => {\r\n            const socket = io();\r\n            socket.on(\"connect\", () => {\r\n                setConnected(true);\r\n                setSocket(socket);\r\n                resolve(socket);\r\n            });\r\n\r\n            socket.on(\"connect_error\", () => {\r\n                reject();\r\n            });\r\n\r\n            socket.on(\"connect_timeout\", () => {\r\n                reject();\r\n            });\r\n\r\n            socket.on(\"disconnect\", () => {\r\n                setConnected(false);\r\n            });\r\n        });\r\n    }\r\n\r\n    const value = {\r\n        connect,\r\n        connected,\r\n        socket\r\n    }\r\n\r\n    return (\r\n        <SocketContext.Provider value={value}>\r\n            { children }\r\n        </SocketContext.Provider>\r\n    )\r\n}","\r\nconst ScoreBubble = (props) => {\r\n    const filled = props.matchData[`player${props.player}Score`] >= props.number;\r\n    const style = {\r\n\r\n        border: filled ? \"2px solid #0275d8\" : \"2px solid rgb(196, 196, 196)\",\r\n        borderRadius: \"50%\",\r\n        width: props.small ? \"15px\" : \"20px\",\r\n        height: props.small ? \"15px\" : \"20px\",\r\n        margin: \"0 5px\"\r\n    }\r\n\r\n    return (\r\n        <div style={style}></div>\r\n    )\r\n}\r\n\r\nexport default ScoreBubble;","import { Col, Row } from \"react-bootstrap\";\r\nimport ScoreBubble from \"../game/ScoreBubble\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MatchCard = (props) => {\r\n    return (\r\n        <div className=\"shadow mb-4 mx-4 w-100\" style={{borderRadius: \"20px\", position: \"relative\", maxWidth: \"625px\"}}>\r\n\r\n                <div className=\"px-3 d-flex flex-column justify-content-center\" style={{backgroundColor: \"white\", height: \"100px\", borderRadius: \"20px\"}}>\r\n                    <Row>\r\n                        \r\n                        <Col className=\"d-flex flex-column\">\r\n                            <Link to={`/user/${props.matchData.player1Id}`} style={{textDecoration: \"none\", color: \"black\"}}>\r\n                                <p className=\"mb-1\">{props.matchData.player1}</p>\r\n                            </Link>\r\n                            <div className=\"d-flex\">\r\n                                <ScoreBubble number={1} player={1} matchData={props.matchData} small />\r\n                                <ScoreBubble number={2} player={1} matchData={props.matchData} small />\r\n                                <ScoreBubble number={3} player={1} matchData={props.matchData} small />\r\n                            </div>\r\n                        </Col>\r\n                        <Col xs=\"auto\" className=\"d-flex justify-content-center align-items-center\">\r\n                            { props.matchData.status.data.winner === props.username &&\r\n                                <i style={{fontSize: \"20px\", textAlign: \"center\"}} className=\"fas fa-trophy yellow\" /> }\r\n                        </Col>\r\n                        <Col className=\"d-flex flex-column\">\r\n                            <Link to={`/user/${props.matchData.player2Id}`} style={{textDecoration: \"none\", color: \"black\"}}>\r\n                                <p className=\"mb-1\" style={{textAlign: \"right\", }}>{props.matchData.player2}</p>\r\n                            </Link>\r\n                            <div className=\"d-flex justify-content-end\">\r\n                                <ScoreBubble number={1} player={2} matchData={props.matchData} small />\r\n                                <ScoreBubble number={2} player={2} matchData={props.matchData} small />\r\n                                <ScoreBubble number={3} player={2} matchData={props.matchData} small />\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            { /*<div className=\"h-100 w-100\" style={{border: \"1px solid #dedede\", backgroundColor: props.matchData.status.data.winner === currentUser.username ? \"#72d13f\" : \"#d44e37\", borderRadius: \"15px\", position: \"absolute\", top: \"0\", left: \"0\"}}></div>\r\n            <Row className=\" mx-3 px-4 py-3\" style={{zIndex: 999, position: \"relative\", backgroundColor: \"white\"}}>\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <p>{props.matchData.player1}</p>\r\n                    <p>{props.matchData.player2}</p>\r\n                </div>\r\n                <Row className=\"d-flex justify-content-between\">\r\n                    <Col className=\"d-flex\">\r\n                        <ScoreBubble number={1} player={1} matchData={props.matchData} small />\r\n                        <ScoreBubble number={2} player={1} matchData={props.matchData} small />\r\n                        <ScoreBubble number={3} player={1} matchData={props.matchData} small />\r\n                    </Col>\r\n                    <Col className=\"d-flex justify-content-end\">\r\n                        <ScoreBubble number={1} player={2} matchData={props.matchData} small />\r\n                        <ScoreBubble number={2} player={2} matchData={props.matchData} small />\r\n                        <ScoreBubble number={3} player={2} matchData={props.matchData} small />\r\n                    </Col>\r\n                </Row>\r\n            </Row> */ }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MatchCard;","import MatchCard from \"./MatchCard\";\r\n\r\nconst PlayedMatchList = (props) => {\r\n    return (\r\n        <div className=\"d-flex flex-column align-items-center px-2 py-2\" style={{height: \"100%\", overflowY: \"auto\", overflowX: \"hidden\", borderRadius: \"15px\"}}>\r\n            { props.matchData.slice().reverse().map((match, index)=> <MatchCard matchData={match} username={props.username} key={`match${index}`}/>) }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlayedMatchList","const Loader = () => {\r\n    return (\r\n        <div className=\"d-flex align-items-center justify-content-center w-100 h-100 p-5\" style={{flexGrow: 1}}>\r\n            <div className=\"loader\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loader;","import { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\nconst WLPieChart = (props) => {\r\n    const [wLPercent, setWLPercent] = useState(0);\r\n\r\n    useEffect(() => {\r\n        let wins = 0;\r\n        props.matchData.forEach(match => {\r\n            if (match.status.data.winner === props.username) {\r\n                wins++;\r\n            }\r\n        });\r\n        setWLPercent(wins / props.matchData.length);\r\n    }, [props.matchData])\r\n\r\n    return (\r\n        <div className=\"pie-chart-container shadow\">\r\n            <div className=\"pie-chart\" style={{background: props.matchData.length > 0 ? `conic-gradient( #9aff63 ${180 * wLPercent}deg,  #ff745c 0 180deg,  white 0)` : \"white\"}}>\r\n                <div className=\"pie-chart-cover\">\r\n                    <p style={{fontSize: \"30px\"}} className=\"mt-5\">{props.matchData.length > 0 ? wLPercent.toFixed(2) : \"0.00\"}</p>\r\n                    <p className=\"mt-0 text-muted\">WLR</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WLPieChart","import { Card, Row, Col, Button, Alert } from \"react-bootstrap\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { useSocketContext } from \"../../contexts/SocketContext\";\r\nimport { db } from \"../../firebase\";\r\nimport AnimatedNumber from \"react-animated-numbers\";\r\nimport PlayedMatchList from \"./PlayedMatchList\";\r\nimport Loader from \"../Loader\";\r\nimport WLPieChart from \"./WLPieChart\";\r\n\r\nconst PlayerDashboard = (props) => {\r\n    const { currentUser } = useAuth();\r\n    const { userId } = useParams();\r\n    const [error, setError] = useState(\"\");\r\n    // Data retrieved from user doc\r\n    const [userData, setUserData] = useState({});\r\n    // Array of retrieved match data for each match played\r\n    const [matchData, setMatchData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            // Fetch user data\r\n            setLoading(true);\r\n            const userDoc = await db.collection(\"users\").doc(userId ?? props.uid).get();\r\n            if (!userDoc.exists) {\r\n                return history.push(\"/\");\r\n            }\r\n            setUserData(userDoc.data());\r\n            // Fetch data for each match played\r\n            const retrievedMatchData = await Promise.all(userDoc.data().matchesPlayed.slice(0, 20).map(async matchId => {\r\n                const matchDoc = await db.collection(\"completed-matches\").doc(matchId).get();\r\n                return Promise.resolve(matchDoc.data());\r\n            }));\r\n            setMatchData(retrievedMatchData);\r\n            setLoading(false);\r\n        }\r\n        fetchData();\r\n    }, [userId, props.uid]);\r\n\r\n    const getFormattedDate = (date) => {\r\n        const dateArr = date.toString().split(\" \").slice(1, 4);\r\n        return `${dateArr[0]} ${dateArr[1]}, ${dateArr[2]}`;\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-100\">\r\n            { error && <Alert variant=\"danger\" className=\"shadow\">{error}</Alert> }\r\n            <Row>\r\n                <Col md={9} className=\"mb-3\">\r\n                    <Card className=\"content-card shadow\">\r\n                        <Card.Body>\r\n                        <div className=\"d-flex justify-content-between align-items-center\">\r\n                            <p className=\"text-title\">{userData.username}</p>\r\n                            <div className=\"d-flex align-items-center text-title\">{ loading ? \"----\" : <AnimatedNumber animateToNumber={userData.ranking}/>} <i className=\"fas fa-trophy mx-1 yellow\" style={{fontSize: 16}}></i></div>\r\n                        </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n                <Col className=\"mb-3\">\r\n                    <Card className=\"content-card shadow\">\r\n                        <Card.Body>\r\n                            <div className=\"d-flex justify-content-end w-100\">\r\n                                <CreateMatch setError={setError}/>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"h-100\">\r\n                <Col md={3} className=\"h-100 mb-3\">\r\n                    <Card className=\"content-card shadow\" style={{minHeight: \"500px\"}}>\r\n                        <Card.Body className=\"h-100\">\r\n                            <p className=\"text-title mb-2\">Statistics <i className=\"fas fa-chart-pie\" style={{fontSize: 16}}></i></p>\r\n                            { loading ? <Loader /> : \r\n                            <>\r\n                                <WLPieChart matchData={matchData} username={userData.username}/>\r\n                                <p className=\"mt-4\">Matches played: <span className=\"text-muted\">{userData.matchesPlayed.length}</span></p>\r\n                                <p className=\"mt-1\">Date joined: <span className=\"text-muted\">{getFormattedDate(userData.dateJoined.toDate())}</span></p>\r\n                            </> }\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n                <Col className=\"mb-3\">\r\n                    <Card className=\"content-card shadow\" style={{height: \"500px\"}}>\r\n                        <Card.Body className=\"h-100 pb-5\">\r\n                            <p className=\"text-title mb-2\">Match History <i className=\"fas fa-history\" style={{fontSize: 16}}></i></p>\r\n                            { loading ? <Loader /> : <PlayedMatchList matchData={matchData} username={userData.username} />}\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Button that creates matches\r\nconst CreateMatch = (props) => {\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    const { connect, connected, socket } = useSocketContext();\r\n\r\n    const handleClick = async () => {\r\n        setLoading(true);\r\n        if (!connected) connect().then((socket) => {\r\n                createMatchRequest(socket);\r\n            }, () => {\r\n                props.setError(\"Failed to connect to server.\");\r\n                setLoading(false);\r\n            });\r\n        else {\r\n            createMatchRequest(socket);\r\n        }\r\n    }\r\n\r\n    const createMatchRequest = (socket) => {\r\n        // When the server creates a match, it will remotely invoke the given callback and\r\n        // pass in the created match's id\r\n        socket.emit(\"create-match\", (matchId) => {\r\n            setLoading(false);\r\n            history.push(`/game/${matchId}`);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Button variant=\"outline-primary\" className=\"w-100\" onClick={handleClick} disabled={loading}>\r\n            <i className=\"fas fa-plus\" /> Create Match\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default PlayerDashboard;","import { Card } from \"react-bootstrap\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport PlayerDashboard from \"./dashboard/PlayerDashboard\";\r\n\r\n// Displays all of the \"content\" for the landing page\r\nconst MainPageContentDisplay = () => {\r\n    const { currentUser } = useAuth();\r\n    return (\r\n        // If user is logged in, return GameDashboard, else return the main page content\r\n        <div className=\"w-100 h-100\">{ currentUser ? <PlayerDashboard uid={currentUser.uid} /> : <MainPageContent /> }</div>\r\n        \r\n    );\r\n}\r\n\r\n//Content on main page\r\nconst MainPageContent = () => {\r\n    return (\r\n        <Card className=\"shadow\" style={{borderRadius: \"15px\", padding: \"30px\"}}>\r\n            <Card.Body>\r\n                <h2>Competitive RPS Action</h2>\r\n                <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n                    <p style={{width: \"100%\", textAlign: \"right\"}}>filler text this is filler text i am filling up this space with text because i need it to look like there is actually something here please disregard what this actually says thank you.</p>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default MainPageContentDisplay;","import ScoreBubble from \"./ScoreBubble\";\r\n\r\nconst Scoreboard = (props) => {\r\n    return (\r\n        <>\r\n            <div className=\"d-flex justify-content-between mb-2\">\r\n                <p className=\"player-title\">{props.matchData.player1}</p>\r\n                <p className=\"player-title\">{props.matchData.player2}</p>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n                <div className=\"d-flex\">\r\n                    <ScoreBubble number={1} player={1} matchData={props.matchData} />\r\n                    <ScoreBubble number={2} player={1} matchData={props.matchData} />\r\n                    <ScoreBubble number={3} player={1} matchData={props.matchData} />\r\n                </div>\r\n                <div className=\"d-flex\">\r\n                    <ScoreBubble number={1} player={2} matchData={props.matchData} />\r\n                    <ScoreBubble number={2} player={2} matchData={props.matchData} />\r\n                    <ScoreBubble number={3} player={2} matchData={props.matchData} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Scoreboard;","import { useEffect, useState } from \"react\";\r\n\r\nconst GameButtons = (props) => {\r\n    const [colored, setColored] = useState({buttonId: \"none\", shade: \"#696969\"});\r\n    const [selected, setSelected] = useState(\"none\");\r\n\r\n    useEffect(() => {\r\n        const status = props.matchStatus;\r\n\r\n        if (status.state === \"between-rounds\") {\r\n            setColored({\r\n                buttonId: selected,\r\n                shade: status.data.winner === props.currentUser.username ? \"green\" : status.data.winner === \"tie\" ? \"yellow\" : \"red\"\r\n            })\r\n        } else if (status.state === \"in-progress\") {\r\n            setColored({\r\n                buttonId: selected,\r\n                shade: \"#0275d8\"\r\n            })\r\n        }\r\n    }, [selected, props.matchStatus]);\r\n\r\n    useEffect(() => {\r\n        if (props.matchStatus.state === \"in-progress\") {\r\n            props.disableButtons(false);\r\n            setSelected(\"none\")\r\n        }\r\n    }, [props.matchStatus.state])\r\n\r\n    const handleClick = (move) => {\r\n        props.socket.emit(\"send-move\", props.currentUser.username, props.gameId, move);\r\n        props.disableButtons(true);\r\n        setSelected(move);\r\n    }\r\n\r\n    return (\r\n        <div className=\"game-buttons\">\r\n            <Button disabled={props.disabled} handleClick={handleClick} buttonId={\"rock\"} colored={colored} />\r\n            <Button disabled={props.disabled} handleClick={handleClick} buttonId={\"paper\"} colored={colored} />\r\n            <Button disabled={props.disabled} handleClick={handleClick} buttonId={\"scissors\"} colored={colored} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Button = (props) => {\r\n    const bgStyle = {\r\n        backgroundColor: props.colored.buttonId === props.buttonId ? props.colored.shade : \"#696969\"\r\n    }\r\n\r\n    return (\r\n        <button className=\"game-button\" style={bgStyle} id={props.buttonId} disabled={props.disabled} onClick={() => props.handleClick(props.buttonId)}><i className={`far fa-hand-${props.buttonId}`} /></button>\r\n    )\r\n}\r\n\r\nexport default GameButtons;","import AnimatedNumber from \"react-animated-numbers\";\r\n\r\nconst Countdown = (props) => {\r\n\r\n    return (\r\n        <AnimatedNumber animateToNumber={props.count} />\r\n    );\r\n}\r\n\r\nexport default Countdown;","\r\nconst GameCompleteDisplay = (props) => {\r\n    return <p style={{fontSize: \"40px\", textAlign: \"center\"}}>{props.matchStatus.data.winner} wins!</p>\r\n}\r\n\r\nexport default GameCompleteDisplay;","import { useEffect, useRef, useState } from \"react\";\r\nimport { Card, InputGroup, FormControl, Button } from \"react-bootstrap\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { useSocketContext } from \"../../contexts/SocketContext\";\r\nimport { db } from \"../../firebase\";\r\nimport Loader from \"../Loader\";\r\nimport Scoreboard from \"./Scoreboard\";\r\nimport GameButtons from \"./GameButtons\";\r\nimport Countdown from \"./Countdown\";\r\nimport GameCompleteDisplay from \"./GameCompleteDisplay\";\r\n\r\nconst GameDisplay = () => {\r\n    const { gameId } = useParams();\r\n    const { currentUser } = useAuth();\r\n    const { connected, connect, socket } = useSocketContext(); \r\n    const [loading, setLoading] = useState(true); // Keep track of initial game loading\r\n    const [disabled, disableButtons] = useState(false);\r\n    const [matchData, setMatchData] = useState();\r\n    const [matchStatus, setMatchStatus] = useState(\"waiting-for-players\");\r\n    const history = useHistory();\r\n    const copyRef = useRef();\r\n\r\n    useEffect(() => {\r\n        const asyncWrapper = async () => {\r\n            const unsub = await joinGame();\r\n            return () => {\r\n                unsub();\r\n                socket.emit(\"leave-match\", gameId);\r\n            }\r\n        }\r\n        return asyncWrapper();\r\n    }, []);\r\n\r\n    const joinGame = async () => {\r\n        return new Promise(async (resolve, reject) => {\r\n\r\n            // Context state updates asynchronously so connect() doesn't update the socket variable in time\r\n            // Hacky fix, there's probably a better way\r\n            let connectedSocket = socket;\r\n            if (!connected) connectedSocket = await connect();\r\n            // Create a match join request, server remotely invokes callback telling the client\r\n            // if the request was accepted or denied\r\n            connectedSocket.emit(\"join-match\", currentUser, gameId, (admitted) => {\r\n                if (admitted) {\r\n                    // Listen to the match doc for updates and reflect those in the local match data\r\n                    // First call just returns the document, so also set loading to false\r\n                    const unsub = db.collection(\"active-matches\").doc(gameId).onSnapshot((doc) => {\r\n                        setMatchData(doc.data());\r\n                        setMatchStatus(doc.data().status);\r\n                        setLoading(false);\r\n                    });\r\n                    connectedSocket.on(\"kick-match\", () => {\r\n                        unsub();\r\n                        history.push(\"/\");\r\n                    });\r\n                    resolve(unsub);\r\n                } else {\r\n                    history.push(\"/\");\r\n                }\r\n            });        \r\n        })\r\n    }\r\n\r\n    const handleCopy = () => {\r\n        copyRef.current.select();\r\n        copyRef.current.setSelectionRange(0, 99999); // mobile\r\n        document.execCommand(\"copy\");\r\n    }\r\n\r\n    return (\r\n        <Card className=\"w-100 content-card shadow mb-5\">\r\n            <Card.Body className=\"d-flex flex-column\" style={{minHeight: \"500px\", boxSizing: \"border-box\"}}>\r\n                { !loading \r\n                ? <>\r\n                    <Scoreboard matchData={matchData} />\r\n                    <div className= \"d-flex justify-content-center align-items-center flex-column\" style={{flexGrow: 1}}>\r\n                        { matchStatus.state === \"waiting-for-players\" ? <>\r\n                                <p>Waiting for players...</p>\r\n                                <InputGroup style={{maxWidth: \"450px\"}}>\r\n                                    <FormControl value={window.location.href} readOnly ref={copyRef} />\r\n                                    <Button variant=\"primary\" onClick={handleCopy}><i className=\"fas fa-clipboard\" /></Button>\r\n                                </InputGroup>\r\n                            </>\r\n                        : matchStatus.state === \"starting\" ? <>\r\n                                <p>Match starting in...</p>\r\n                                <Countdown count={matchStatus.data.count} />\r\n                            </>\r\n                        : matchStatus.state === \"in-progress\" || matchStatus.state === \"between-rounds\" ? <>\r\n                                <GameButtons disabled={disabled} socket={socket} gameId={gameId} currentUser={currentUser} \r\n                                    disableButtons={disableButtons} matchStatus={matchStatus} />\r\n                                <Countdown count={matchStatus.data.count} />\r\n                            </> \r\n                        : matchStatus.state === \"complete\" ? <>\r\n                                <GameCompleteDisplay matchStatus={matchStatus} />\r\n                                <Countdown count={matchStatus.data.count} />\r\n                            </>\r\n                        : <div>uh oh</div> }\r\n                    </div>\r\n                </> \r\n                : <Loader /> }\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default GameDisplay;","import { useState } from \"react\";\r\nimport { Route, Redirect, useLocation } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport GameDisplay from \"./game/GameDisplay\";\r\n\r\nconst ProtectedRoute = (props) => {\r\n    const { currentUser } = useAuth();\r\n    const [location, setLocation] = useState(useLocation());\r\n\r\n    return <Route path={props.path} >\r\n        { currentUser ? <GameDisplay /> : <Redirect to={{pathname: \"/login\", state: { redirect: location.pathname }}}/> }\r\n    </Route>\r\n}\r\n\r\nexport default ProtectedRoute;","import { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Link, useHistory, useLocation, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { db } from \"../firebase\";\r\n\r\nexport const SignUp = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const confirmPasswordRef = useRef();\r\n    const usernameRef = useRef();\r\n    const { signup } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [redirect, setRedirect] = useState(useLocation().state?.redirect ?? \"/\");\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if(passwordRef.current.value !== confirmPasswordRef.current.value) {\r\n            return setError(\"Passwords do not match.\");\r\n        }\r\n\r\n        if (usernameRef.current.value.length > 16) {\r\n            return setError(\"Username must be 16 characters or less.\");\r\n        }\r\n\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await signup(emailRef.current.value, usernameRef.current.value, passwordRef.current.value);\r\n            history.push(redirect);\r\n        } catch {\r\n            setError(\"Failed to create account.\");\r\n        }\r\n\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n        <Card className=\"shadow content-card card-2 mb-3\">\r\n            <Card.Body>\r\n                <p className=\"text-center mb-4 text-title\">Sign Up</p>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form className=\"mb-4\" onSubmit={handleSubmit}>\r\n                    <Form.Group id=\"username\" className=\"mb-2\">\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type=\"text\" ref={usernameRef} required/>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"email\" className=\"mb-2\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required/>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password\" className=\"mb-2\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordRef} required/>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"confirm-password\" className=\"mb-4\">\r\n                        <Form.Label>Confirm Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={confirmPasswordRef} required/>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} type=\"submit\" className=\"w-100\"><i className=\"far fa-edit\"></i> Sign Up</Button>\r\n                </Form>\r\n                <div className=\"text-center mt-4\">\r\n                    <p>Already have an account? <Link to={{pathname: \"/login\", state: { redirect }}}>Log in</Link></p>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport const Login = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const { login } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [redirect, setRedirect] = useState(useLocation().state?.redirect ?? \"/\");\r\n    const [showRedirect, setShowRedirect] = useState(false);\r\n    // useLocation().state?.redirect ?? \"/\"\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await login(emailRef.current.value, passwordRef.current.value);\r\n            // I have no idea why but this history.push() doesn't \"work\" unless you give it some time after logging in.\r\n            // Signing up works fine. Probably my async spaghetti code.\r\n            setTimeout(() => {\r\n                setLoading(false);\r\n                history.push(redirect);\r\n            }, 500);\r\n            \r\n        } catch {\r\n            setError(\"Failed to login.\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className=\"shadow content-card card-2\">\r\n            {showRedirect && <Redirect to={redirect} /> }\r\n            <Card.Body>\r\n                <p className=\"mb-2 text-center text-title\">Login</p>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form>\r\n                    <Form.Group id=\"email\" className=\"mb-2\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required />\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password\" className=\"mb-2\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordRef} required />\r\n                    </Form.Group>\r\n                    <Button disabled={loading} type=\"submit\" className=\"w-100 mt-4\" onClick={handleSubmit}>Login</Button>\r\n                </Form>\r\n                <div className=\"mt-4 text-center\">\r\n                    <p>Don't have an account? <Link to={{pathname: \"/signup\", state: { redirect }}}>Sign up</Link></p>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import React from \"react\";\r\nimport PageHeader from \"./PageHeader\";\r\nimport MainPageContentDisplay from \"./MainPageContentDisplay\";\r\nimport GameDisplay from \"./game/GameDisplay\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport PlayerDashboard from \"./dashboard/PlayerDashboard\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Login, SignUp } from \"./AuthComponents\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { AuthProvider } from \"../contexts/AuthContext\";\r\nimport { SocketProvider } from \"../contexts/SocketContext\";\r\n\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <AuthProvider>\r\n                <Router>\r\n                    <PageHeader />\r\n                    <Container className=\"d-flex align-items-center justify-content-center\"\r\n                                style={{ minHeight: \"calc(100vh - 225px\", margin:\"50px auto\"}}>\r\n                                { /* 125px for header, 100px for margin*/ }\r\n                        <Switch>\r\n                            <SocketProvider>\r\n                                <Route path=\"/\" exact component={MainPageContentDisplay} />\r\n                                <Route path=\"/login\" component={Login} exact />\r\n                                <Route path=\"/signup\" component={SignUp} exact />\r\n                                <Route path=\"/user/:userId\" component={PlayerDashboard}/>\r\n                                <ProtectedRoute path=\"/game/:gameId\" component={GameDisplay} />\r\n                            </SocketProvider>\r\n                        </Switch>\r\n                    </Container>\r\n                </Router>\r\n            </AuthProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./components/App\";\r\n\r\n// Import bootstrap css\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}