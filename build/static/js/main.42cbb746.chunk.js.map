{"version":3,"sources":["config.js","firebase.js","contexts/AuthContext.js","components/PageHeader.js","contexts/SocketContext.js","components/dashboard/PlayedMatchList.js","components/Loader.js","components/dashboard/PlayerDashboard.js","components/MainPageContentDisplay.js","components/game/ScoreBubble.js","components/game/Scoreboard.js","components/game/GameButtons.js","components/game/Countdown.js","components/game/GameCompleteDisplay.js","components/game/GameDisplay.js","components/ProtectedRoute.js","components/AuthComponents.js","components/App.js","index.js"],"names":["config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","firebase","initializeApp","auth","db","firestore","AuthContext","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","signup","email","username","password","a","createUserWithEmailAndPassword","userCred","collection","doc","user","uid","set","ranking","xp","matchesPlayed","useEffect","onAuthStateChanged","get","userDoc","data","value","login","signInWithEmailAndPassword","signout","signOut","Provider","LoginAndSignUpInputs","to","variant","className","style","marginLeft","SignOutAndProfileInputs","error","setError","history","useHistory","handleSignout","e","push","Alert","disabled","onClick","PageHeader","Navbar","bg","expand","maxWidth","borderRadius","Brand","minHeight","textDecoration","color","fontSize","Toggle","aria-controls","Collapse","id","Nav","SocketContext","useSocketContext","SocketProvider","connected","setConnected","socket","setSocket","connect","Promise","resolve","reject","io","on","PlayedMatchList","props","height","overflowY","Loader","flexGrow","CreateMatch","handleClick","createMatchRequest","then","emit","matchId","PlayerDashboard","userData","setUserData","fetchData","Row","Col","md","Card","Body","animateToNumber","MainPageContent","padding","display","justifyContent","width","textAlign","MainPageContentDisplay","ScoreBubble","filled","matchData","player","number","backgroundColor","border","margin","Scoreboard","player1","player2","Button","bgStyle","colored","buttonId","shade","GameButtons","setColored","selected","setSelected","status","matchStatus","state","winner","disableButtons","move","gameId","Countdown","count","GameCompleteDisplay","GameDisplay","useParams","setMatchData","setMatchStatus","copyRef","useRef","joinGame","unsub","asyncWrapper","connectedSocket","admitted","onSnapshot","boxSizing","InputGroup","FormControl","window","location","href","readOnly","ref","current","select","setSelectionRange","document","execCommand","ProtectedRoute","SignUp","emailRef","passwordRef","confirmPasswordRef","usernameRef","handleSubmit","preventDefault","length","Form","onSubmit","Group","Label","Control","type","required","Login","App","Container","path","exact","component","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.42cbb746.chunk.js","sourcesContent":["const config = {\r\n    apiKey: \"AIzaSyBaIFCic3PdUDmvCIMNPdSNpBuap4gpE2o\",\r\n    authDomain: \"rock-paper-scissors-onli-dc6c4.firebaseapp.com\",\r\n    projectId: \"rock-paper-scissors-onli-dc6c4\",\r\n    storageBucket: \"rock-paper-scissors-onli-dc6c4.appspot.com\",\r\n    messagingSenderId: \"97204497145\",\r\n    appId: \"1:97204497145:web:3dd9899fc51de2d9929028\",\r\n    measurementId: \"G-7TP1KX6P4K\"\r\n}\r\n\r\nexport default config;","import firebase from \"firebase/app\"\r\nimport config from \"./config\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\n\r\nconst app = firebase.initializeApp(config);\r\n\r\nexport const auth = app.auth();\r\nexport const db = firebase.firestore();\r\n\r\nexport default app;","import { createContext, useContext, useState, useEffect } from 'react';\r\nimport { auth, db } from \"../firebase\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n    return useContext(AuthContext);\r\n}\r\n\r\n// Context for authentication of user\r\nexport const AuthProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const signup = async (email, username, password) => {\r\n        const userCred = await auth.createUserWithEmailAndPassword(email, password);\r\n        await db.collection(\"users\").doc(userCred.user.uid).set({\r\n            username,\r\n            ranking: 1000,\r\n            xp: 0,\r\n            matchesPlayed: []\r\n        })\r\n    }\r\n\r\n    const login = (email, password) => {\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    const signout = () => {\r\n        return auth.signOut();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(async user => {\r\n            if (user) {\r\n                const userDoc = await db.collection(\"users\").doc(user.uid).get();\r\n                user.username = userDoc.data().username;\r\n            }\r\n            setCurrentUser(user);\r\n            setLoading(false);\r\n        });\r\n\r\n        return unsubscribe;\r\n    }, []) \r\n    \r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        login,\r\n        signout\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    );\r\n}","import { Link, useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { Button, Container, Alert, Navbar, Nav } from \"react-bootstrap\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\n// Styling for inner header container (keeps header items within an area of 1200px )\r\nconst innerStyle = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n}\r\n\r\n// Styling for outer header container (white bar across screen and centers inside items)\r\nconst outerStyle = {\r\n    height: \"125px\",\r\n    width: \"100%\",\r\n    maxWidth: \"1500px\",\r\n    margin: \"0 auto\",\r\n    backgroundColor: \"white\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: \"0 0 15px 15px\"\r\n}\r\n\r\n// Main Heading Component\r\nconst PageHeader = () => {\r\n    const { currentUser } = useAuth();\r\n\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"md\" style={{maxWidth: \"1500px\", borderRadius: \"0 0 15px 15px\"}} className=\"mx-auto shadow px-5\">\r\n            <Navbar.Brand style={{minHeight: \"100px\"}} className=\"d-flex align-items-center\">\r\n                <Link to=\"/\" style={{textDecoration: \"none\", color: \"black\"}}>\r\n                    <p className=\"text-title\"><i className=\"fas fa-signal\" style={{color: \"#0275d8\", fontSize: 17}} /> Rock Paper Scissors Online</p>\r\n                </Link>\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"navbar-nav\" />\r\n            <Navbar.Collapse id=\"navbar-nav\">\r\n                <Nav className=\"d-flex justify-content-end w-100\">\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        { currentUser ? <SignOutAndProfileInputs /> : <LoginAndSignUpInputs /> }\r\n                    </div>\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n        /* <div className=\"shadow\" style={outerStyle}>\r\n            <Container style={innerStyle}>\r\n                <Link to=\"/\" style={{textDecoration: \"none\", color: \"black\"}}>\r\n                    <h2><i className=\"fas fa-signal\" style={{color: \"#0275d8\"}}></i> Rock Paper Scissors Online</h2>\r\n                </Link>\r\n\r\n                <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                    { !currentUser ? <LoginAndSignUpInputs /> : <SignOutAndProfileInputs /> }\r\n                </div>\r\n            </Container>\r\n            </div> */\r\n    );\r\n}\r\n\r\n// Contains log in and sign up buttons\r\nconst LoginAndSignUpInputs = () => {\r\n    return (\r\n        <>\r\n            <Link to=\"/login\">\r\n                <Button variant=\"primary\"><i className=\"far fa-user\"></i> Login</Button>\r\n            </Link>\r\n            <Link to=\"/signup\">\r\n                <Button variant=\"outline-primary\" style={{marginLeft: \"15px\"}}><i className=\"far fa-edit\"></i> Sign Up</Button>\r\n            </Link>\r\n        </>\r\n    );\r\n}\r\n\r\n// Contains sign out and profile link \"buttons\"\r\nconst SignOutAndProfileInputs = () => {\r\n    const { currentUser, signout } = useAuth();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    const handleSignout = async (e) => {\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await signout();\r\n            history.push(\"/\")\r\n        } catch {\r\n            setError(\"Failed to sign out\");\r\n        }\r\n        \r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex align-items-center\">\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <p className=\"mx-3 my-auto\">{currentUser.username}</p>\r\n            <Button disabled={loading} variant=\"outline-primary\" onClick={handleSignout}>Sign Out</Button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PageHeader;","import { createContext, useContext, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst SocketContext = createContext();\r\n\r\nexport const useSocketContext = () => {\r\n    return useContext(SocketContext);\r\n}\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n    const [connected, setConnected] = useState(false);\r\n    const [socket, setSocket] = useState();\r\n\r\n    const connect = () => {\r\n        // Promise that resolves once connection to server is established\r\n        return new Promise((resolve, reject) => {\r\n            const socket = io(\"http://localhost:3030\");\r\n            socket.on(\"connect\", () => {\r\n                setConnected(true);\r\n                setSocket(socket);\r\n                resolve(socket);\r\n            });\r\n\r\n            socket.on(\"connect_error\", () => {\r\n                reject();\r\n            });\r\n\r\n            socket.on(\"connect_timeout\", () => {\r\n                reject();\r\n            });\r\n\r\n            socket.on(\"disconnect\", () => {\r\n                setConnected(false);\r\n            });\r\n        });\r\n    }\r\n\r\n    const value = {\r\n        connect,\r\n        connected,\r\n        socket\r\n    }\r\n\r\n    return (\r\n        <SocketContext.Provider value={value}>\r\n            { children }\r\n        </SocketContext.Provider>\r\n    )\r\n}","\r\nconst PlayedMatchList = (props) => {\r\n    return (\r\n        <div style={{height: \"100%\", overflowY: \"auto\"}}>\r\n            <p>Data</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlayedMatchList","const Loader = () => {\r\n    return (\r\n        <div className=\"d-flex align-items-center justify-content-center w-100 h-100 p-5\" style={{flexGrow: 1}}>\r\n            <div className=\"loader\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Loader;","import { Card, Row, Col, Button, Alert } from \"react-bootstrap\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSocketContext } from \"../../contexts/SocketContext\";\r\nimport { db } from \"../../firebase\";\r\nimport AnimatedNumber from \"react-animated-numbers\";\r\nimport PlayedMatchList from \"./PlayedMatchList\";\r\nimport Loader from \"../Loader\";\r\n\r\nconst PlayerDashboard = (props) => {\r\n    const { currentUser } = useAuth();\r\n    const [error, setError] = useState(\"\");\r\n    const [userData, setUserData] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const userDoc = await db.collection(\"users\").doc(props.uid).get();\r\n            setUserData(userDoc.data());\r\n            setLoading(false);\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"w-100\">\r\n            { error && <Alert variant=\"danger\" className=\"shadow\">{error}</Alert> }\r\n            <Row>\r\n                <Col md={9} className=\"mb-3\">\r\n                    <Card className=\"content-card shadow\">\r\n                        <Card.Body>\r\n                        <div className=\"d-flex justify-content-between align-items-center\">\r\n                            <p className=\"text-title\">{currentUser.username}</p>\r\n                            <div className=\"d-flex align-items-center text-title\">{ loading ? \"----\" : <AnimatedNumber animateToNumber={userData.ranking}/>} <i className=\"fas fa-trophy mx-1\" style={{fontSize: 16}}></i></div>\r\n                        </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n                <Col className=\"mb-3\">\r\n                    <Card className=\"content-card shadow\">\r\n                        <Card.Body>\r\n                            <div className=\"d-flex justify-content-end w-100\">\r\n                                <CreateMatch setError={setError}/>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"h-100\">\r\n                <Col md={3} className=\"h-100 mb-3\">\r\n                    <Card className=\"content-card shadow\" style={{height: \"500px\"}}>\r\n                        <Card.Body>\r\n                            <p className=\"text-title\">Statistics <i className=\"fas fa-chart-pie\" style={{fontSize: 16}}></i></p>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n                <Col className=\"mb-3\">\r\n                    <Card className=\"content-card shadow\" style={{height: \"500px\"}}>\r\n                        <Card.Body>\r\n                            <p className=\"text-title\">Match History <i className=\"fas fa-history\" style={{fontSize: 16}}></i></p>\r\n                            { loading ? <Loader /> : <PlayedMatchList userData={userData}/> }\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Button that creates matches\r\nconst CreateMatch = (props) => {\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    const { connect, connected, socket } = useSocketContext();\r\n\r\n    const handleClick = async () => {\r\n        setLoading(true);\r\n        if (!connected) connect().then((socket) => {\r\n                createMatchRequest(socket);\r\n            }, () => {\r\n                props.setError(\"Failed to connect to server.\");\r\n                setLoading(false);\r\n            });\r\n        else {\r\n            createMatchRequest(socket);\r\n        }\r\n    }\r\n\r\n    const createMatchRequest = (socket) => {\r\n        // When the server creates a match, it will remotely invoke the given callback and\r\n        // pass in the created match's id\r\n        socket.emit(\"create-match\", (matchId) => {\r\n            setLoading(false);\r\n            history.push(`/game/${matchId}`);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Button variant=\"outline-primary\" className=\"w-100\" onClick={handleClick} disabled={loading}>\r\n            <i className=\"fas fa-plus\" /> Create Match\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default PlayerDashboard;","import { Card } from \"react-bootstrap\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport PlayerDashboard from \"./dashboard/PlayerDashboard\";\r\n\r\n// Displays all of the \"content\" for the landing page\r\nconst MainPageContentDisplay = () => {\r\n    const { currentUser } = useAuth();\r\n    return (\r\n        // If user is logged in, return GameDashboard, else return the main page content\r\n        <div className=\"w-100 h-100\">{ currentUser ? <PlayerDashboard uid={currentUser.uid} /> : <MainPageContent /> }</div>\r\n        \r\n    );\r\n}\r\n\r\n//Content on main page\r\nconst MainPageContent = () => {\r\n    return (\r\n        <Card className=\"shadow\" style={{borderRadius: \"15px\", padding: \"30px\"}}>\r\n            <Card.Body>\r\n                <h2>Competitive RPS Action</h2>\r\n                <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n                    <p style={{width: \"100%\", textAlign: \"right\"}}>filler text this is filler text i am filling up this space with text because i need it to look like there is actually something here please disregard what this actually says thank you.</p>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default MainPageContentDisplay;","\r\nconst ScoreBubble = (props) => {\r\n    const filled = props.matchData[`player${props.player}Score`] >= props.number;\r\n    const style = {\r\n        backgroundColor: filled ? \"#0275d8\" : \"white\",\r\n        border: filled ? \"none\" : \"2px solid gray\",\r\n        borderRadius: \"50%\",\r\n        width: \"20px\",\r\n        height: \"20px\",\r\n        margin: \"0 5px\"\r\n    }\r\n\r\n    return (\r\n        <div style={style}></div>\r\n    )\r\n}\r\n\r\nexport default ScoreBubble;","import ScoreBubble from \"./ScoreBubble\";\r\n\r\nconst Scoreboard = (props) => {\r\n    return (\r\n        <>\r\n            <div className=\"d-flex justify-content-between mb-2\">\r\n                <p className=\"player-title\">{props.matchData.player1}</p>\r\n                <p className=\"player-title\">{props.matchData.player2}</p>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n                <div className=\"d-flex\">\r\n                    <ScoreBubble number={1} player={1} matchData={props.matchData} />\r\n                    <ScoreBubble number={2} player={1} matchData={props.matchData} />\r\n                    <ScoreBubble number={3} player={1} matchData={props.matchData} />\r\n                </div>\r\n                <div className=\"d-flex\">\r\n                    <ScoreBubble number={1} player={2} matchData={props.matchData} />\r\n                    <ScoreBubble number={2} player={2} matchData={props.matchData} />\r\n                    <ScoreBubble number={3} player={2} matchData={props.matchData} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Scoreboard;","import { useEffect, useState } from \"react\";\r\n\r\nconst GameButtons = (props) => {\r\n    const [colored, setColored] = useState({buttonId: \"none\", shade: \"#696969\"});\r\n    const [selected, setSelected] = useState(\"none\");\r\n\r\n    useEffect(() => {\r\n        const status = props.matchStatus;\r\n\r\n        if (status.state === \"between-rounds\") {\r\n            setColored({\r\n                buttonId: selected,\r\n                shade: status.data.winner === props.currentUser.username ? \"green\" : status.data.winner === \"tie\" ? \"yellow\" : \"red\"\r\n            })\r\n        } else if (status.state === \"in-progress\") {\r\n            setColored({\r\n                buttonId: selected,\r\n                shade: \"#0275d8\"\r\n            })\r\n        }\r\n    }, [selected, props.matchStatus]);\r\n\r\n    useEffect(() => {\r\n        if (props.matchStatus.state === \"in-progress\") {\r\n            props.disableButtons(false);\r\n            setSelected(\"none\")\r\n        }\r\n    }, [props.matchStatus.state])\r\n\r\n    const handleClick = (move) => {\r\n        props.socket.emit(\"send-move\", props.currentUser.username, props.gameId, move);\r\n        props.disableButtons(true);\r\n        setSelected(move);\r\n    }\r\n\r\n    return (\r\n        <div className=\"game-buttons\">\r\n            <Button disabled={props.disabled} handleClick={handleClick} buttonId={\"rock\"} colored={colored} />\r\n            <Button disabled={props.disabled} handleClick={handleClick} buttonId={\"paper\"} colored={colored} />\r\n            <Button disabled={props.disabled} handleClick={handleClick} buttonId={\"scissors\"} colored={colored} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Button = (props) => {\r\n    const bgStyle = {\r\n        backgroundColor: props.colored.buttonId === props.buttonId ? props.colored.shade : \"#696969\"\r\n    }\r\n\r\n    return (\r\n        <button className=\"game-button\" style={bgStyle} id={props.buttonId} disabled={props.disabled} onClick={() => props.handleClick(props.buttonId)}><i className={`far fa-hand-${props.buttonId}`} /></button>\r\n    )\r\n}\r\n\r\nexport default GameButtons;","import AnimatedNumber from \"react-animated-numbers\";\r\n\r\nconst Countdown = (props) => {\r\n\r\n    return (\r\n        <AnimatedNumber animateToNumber={props.count} />\r\n    );\r\n}\r\n\r\nexport default Countdown;","\r\nconst GameCompleteDisplay = (props) => {\r\n    return <p style={{fontSize: \"40px\", textAlign: \"center\"}}>{props.matchStatus.data.winner} wins!</p>\r\n}\r\n\r\nexport default GameCompleteDisplay;","import { useEffect, useRef, useState } from \"react\";\r\nimport { Card, InputGroup, FormControl, Button } from \"react-bootstrap\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { useSocketContext } from \"../../contexts/SocketContext\";\r\nimport { db } from \"../../firebase\";\r\nimport Loader from \"../Loader\";\r\nimport Scoreboard from \"./Scoreboard\";\r\nimport GameButtons from \"./GameButtons\";\r\nimport Countdown from \"./Countdown\";\r\nimport GameCompleteDisplay from \"./GameCompleteDisplay\";\r\n\r\nconst GameDisplay = () => {\r\n    const { gameId } = useParams();\r\n    const { currentUser } = useAuth();\r\n    const { connected, connect, socket } = useSocketContext(); \r\n    const [loading, setLoading] = useState(true); // Keep track of initial game loading\r\n    const [disabled, disableButtons] = useState(false);\r\n    const [matchData, setMatchData] = useState();\r\n    const [matchStatus, setMatchStatus] = useState(\"waiting-for-players\");\r\n    const history = useHistory();\r\n    const copyRef = useRef();\r\n\r\n    useEffect(() => {\r\n        const asyncWrapper = async () => {\r\n            const unsub = await joinGame();\r\n            return () => {\r\n                unsub();\r\n                socket.emit(\"leave-match\", gameId);\r\n            }\r\n        }\r\n        return asyncWrapper();\r\n    }, []);\r\n\r\n    const joinGame = async () => {\r\n        return new Promise(async (resolve, reject) => {\r\n\r\n            // Context state updates asynchronously so connect() doesn't update the socket variable in time\r\n            // Hacky fix, there's probably a better way\r\n            let connectedSocket = socket;\r\n            if (!connected) connectedSocket = await connect();\r\n            // Create a match join request, server remotely invokes callback telling the client\r\n            // if the request was accepted or denied\r\n            connectedSocket.emit(\"join-match\", currentUser, gameId, (admitted) => {\r\n                if (admitted) {\r\n                    // Listen to the match doc for updates and reflect those in the local match data\r\n                    // First call just returns the document, so also set loading to false\r\n                    const unsub = db.collection(\"active-matches\").doc(gameId).onSnapshot((doc) => {\r\n                        setMatchData(doc.data());\r\n                        setMatchStatus(doc.data().status);\r\n                        setLoading(false);\r\n                    });\r\n                    connectedSocket.on(\"kick-match\", () => {\r\n                        unsub();\r\n                        history.push(\"/\");\r\n                    });\r\n                    resolve(unsub);\r\n                } else {\r\n                    history.push(\"/\");\r\n                }\r\n            });        \r\n        })\r\n    }\r\n\r\n    const handleCopy = () => {\r\n        copyRef.current.select();\r\n        copyRef.current.setSelectionRange(0, 99999); // mobile\r\n        document.execCommand(\"copy\");\r\n    }\r\n\r\n    return (\r\n        <Card className=\"w-100 content-card shadow mb-5\">\r\n            <Card.Body className=\"d-flex flex-column\" style={{minHeight: \"500px\", boxSizing: \"border-box\"}}>\r\n                { !loading \r\n                ? <>\r\n                    <Scoreboard matchData={matchData} />\r\n                    <div className= \"d-flex justify-content-center align-items-center flex-column\" style={{flexGrow: 1}}>\r\n                        { matchStatus.state === \"waiting-for-players\" ? <>\r\n                                <p>Waiting for players...</p>\r\n                                <InputGroup style={{width: \"450px\"}}>\r\n                                    <FormControl value={window.location.href} readOnly ref={copyRef} />\r\n                                    <Button variant=\"primary\" onClick={handleCopy}><i className=\"fas fa-clipboard\" /></Button>\r\n                                </InputGroup>\r\n                            </>\r\n                        : matchStatus.state === \"starting\" ? <>\r\n                                <p>Match starting in...</p>\r\n                                <Countdown count={matchStatus.data.count} />\r\n                            </>\r\n                        : matchStatus.state === \"in-progress\" || matchStatus.state === \"between-rounds\" ? <>\r\n                                <GameButtons disabled={disabled} socket={socket} gameId={gameId} currentUser={currentUser} \r\n                                    disableButtons={disableButtons} matchStatus={matchStatus} />\r\n                                <Countdown count={matchStatus.data.count} />\r\n                            </> \r\n                        : matchStatus.state === \"complete\" ? <>\r\n                                <GameCompleteDisplay matchStatus={matchStatus} />\r\n                                <Countdown count={matchStatus.data.count} />\r\n                            </>\r\n                        : <div>uh oh</div> }\r\n                    </div>\r\n                </> \r\n                : <Loader /> }\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default GameDisplay;","import { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst ProtectedRoute = ({ ...props }) => {\r\n    const { currentUser } = useAuth();\r\n\r\n    return !currentUser\r\n        ? <Redirect to=\"/login\" />\r\n        : <Route {...props} />;\r\n}\r\n\r\nexport default ProtectedRoute;","import { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport { useRef, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { db } from \"../firebase\";\r\n\r\nexport const SignUp = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const confirmPasswordRef = useRef();\r\n    const usernameRef = useRef();\r\n    const { signup } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if(passwordRef.current.value !== confirmPasswordRef.current.value) {\r\n            return setError(\"Passwords do not match.\");\r\n        }\r\n\r\n        if (usernameRef.current.value.length > 16) {\r\n            return setError(\"Username must be 16 characters or less.\");\r\n        }\r\n\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await signup(emailRef.current.value, usernameRef.current.value, passwordRef.current.value);\r\n            history.push(\"/\");\r\n        } catch {\r\n            setError(\"Failed to create account.\");\r\n        }\r\n\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n        <Card className=\"shadow content-card card-2 mb-3\">\r\n            <Card.Body>\r\n                <p className=\"text-center mb-4 text-title\">Sign Up</p>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form className=\"mb-4\" onSubmit={handleSubmit}>\r\n                    <Form.Group id=\"username\" className=\"mb-2\">\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type=\"text\" ref={usernameRef} required/>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"email\" className=\"mb-2\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required/>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password\" className=\"mb-2\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordRef} required/>\r\n                    </Form.Group>\r\n                    <Form.Group id=\"confirm-password\" className=\"mb-4\">\r\n                        <Form.Label>Confirm Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={confirmPasswordRef} required/>\r\n                    </Form.Group>\r\n                    <Button disabled={loading} type=\"submit\" className=\"w-100\"><i className=\"far fa-edit\"></i> Sign Up</Button>\r\n                </Form>\r\n                <div className=\"text-center mt-4\">\r\n                    <p>Already have an account? <Link to=\"/login\">Log in</Link></p>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport const Login = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const { login } = useAuth();\r\n    const history = useHistory();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await login(emailRef.current.value, passwordRef.current.value);\r\n            history.push(\"/\");\r\n        } catch {\r\n            setError(\"Failed to login.\");\r\n        }\r\n\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n        <Card className=\"shadow content-card card-2\">\r\n            <Card.Body>\r\n                <p className=\"mb-2 text-center text-title\">Login</p>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Form>\r\n                    <Form.Group id=\"email\" className=\"mb-2\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"email\" ref={emailRef} required />\r\n                    </Form.Group>\r\n                    <Form.Group id=\"password\" className=\"mb-2\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" ref={passwordRef} required />\r\n                    </Form.Group>\r\n                    <Button disabled={loading} type=\"submit\" className=\"w-100 mt-4\" onClick={handleSubmit}>Login</Button>\r\n                </Form>\r\n                <div className=\"mt-4 text-center\">\r\n                    <p>Don't have an account? <Link to=\"/signup\">Sign up</Link></p>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import React from \"react\";\r\nimport PageHeader from \"./PageHeader\";\r\nimport MainPageContentDisplay from \"./MainPageContentDisplay\";\r\nimport GameDisplay from \"./game/GameDisplay\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Login, SignUp } from \"./AuthComponents\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { AuthProvider } from \"../contexts/AuthContext\";\r\nimport { SocketProvider } from \"../contexts/SocketContext\";\r\n\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <AuthProvider>\r\n                <Router>\r\n                    <PageHeader />\r\n                    <Container className=\"d-flex align-items-center justify-content-center\"\r\n                                style={{ minHeight: \"calc(100vh - 225px\", margin:\"50px auto\"}}>\r\n                                { /* 125px for header, 100px for margin*/ }\r\n                        <Switch>\r\n                            <SocketProvider>\r\n                                <Route path=\"/\" exact component={MainPageContentDisplay} />\r\n                                <Route path=\"/login\" component={Login} />\r\n                                <Route path=\"/signup\" component={SignUp} />\r\n                            \r\n                                <ProtectedRoute path=\"/game/:gameId\" component={GameDisplay} />\r\n                            </SocketProvider>\r\n                        </Switch>\r\n                    </Container>\r\n                </Router>\r\n            </AuthProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./components/App\";\r\n\r\n// Import bootstrap css\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}