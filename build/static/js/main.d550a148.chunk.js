(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{140:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(32),r=c.n(s),i=c(83),j=c(84),l=c(92),o=c(91),d=c(14),u=c.n(d),b=c(26),x=c(9),h=c(20),O=c(10),m=c(149),p=c(148),f=c(143),v=c(150),g=c(61),y={apiKey:"AIzaSyBaIFCic3PdUDmvCIMNPdSNpBuap4gpE2o",authDomain:"rock-paper-scissors-onli-dc6c4.firebaseapp.com",projectId:"rock-paper-scissors-onli-dc6c4",storageBucket:"rock-paper-scissors-onli-dc6c4.appspot.com",messagingSenderId:"97204497145",appId:"1:97204497145:web:3dd9899fc51de2d9929028",measurementId:"G-7TP1KX6P4K"},w=(c(99),c(141),g.a.initializeApp(y)),N=w.auth(),S=g.a.firestore(),k=c(2),C=Object(a.createContext)(),I=function(){return Object(a.useContext)(C)},D=function(e){var t=e.children,c=Object(a.useState)(),n=Object(x.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(!0),j=Object(x.a)(i,2),l=j[0],o=j[1];Object(a.useEffect)((function(){return N.onAuthStateChanged((function(e){r(e),o(!1)}))}),[]);var d={currentUser:s,signup:function(e,t){return N.createUserWithEmailAndPassword(e,t)},login:function(e,t){return N.signInWithEmailAndPassword(e,t)},signout:function(){return N.signOut()}};return Object(k.jsx)(C.Provider,{value:d,children:!l&&t})},B=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.b,{to:"/login",children:Object(k.jsxs)(f.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"far fa-user"})," Login"]})}),Object(k.jsx)(h.b,{to:"/signup",children:Object(k.jsxs)(f.a,{variant:"outline-primary",style:{marginLeft:"15px"},children:[Object(k.jsx)("i",{className:"far fa-edit"})," Sign Up"]})})]})},P=function(){var e=I(),t=e.currentUser,c=e.signout,n=Object(a.useState)(!1),s=Object(x.a)(n,2),r=s[0],i=s[1],j=Object(a.useState)(""),l=Object(x.a)(j,2),o=l[0],d=l[1],h=Object(O.g)(),m=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(""),i(!0),e.next=5,c();case 5:h.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d("Failed to sign out");case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[o&&Object(k.jsx)(v.a,{variant:"danger",children:o}),Object(k.jsxs)("p",{className:"mx-3 my-auto",children:[Object(k.jsx)("i",{className:"fas fa-user"})," ",t.email]}),Object(k.jsx)(f.a,{disabled:r,variant:"outline-primary",onClick:m,children:"Sign Out"})]})},U=function(){var e=I().currentUser;return Object(k.jsxs)(m.a,{bg:"light",expand:"md",style:{maxWidth:"1500px",borderRadius:"0 0 15px 15px"},className:"mx-auto shadow px-5",children:[Object(k.jsx)(m.a.Brand,{style:{minHeight:"100px"},className:"d-flex align-items-center",children:Object(k.jsx)(h.b,{to:"/",style:{textDecoration:"none",color:"black"},children:Object(k.jsxs)("p",{className:"text-title",children:[Object(k.jsx)("i",{className:"fas fa-signal",style:{color:"#0275d8"}})," Rock Paper Scissors Online"]})})}),Object(k.jsx)(m.a.Toggle,{"aria-controls":"navbar-nav"}),Object(k.jsx)(m.a.Collapse,{id:"navbar-nav",children:Object(k.jsx)(p.a,{className:"d-flex justify-content-end w-100",children:Object(k.jsx)("div",{className:"d-flex justify-content-end",children:e?Object(k.jsx)(P,{}):Object(k.jsx)(B,{})})})})]})},E=c(151),R=c(144),F=c(89),L=c(88),A=Object(a.createContext)(),G=function(){return Object(a.useContext)(A)},q=function(e){var t=e.children,c=Object(a.useState)(!1),n=Object(x.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(),j=Object(x.a)(i,2),l=j[0],o=j[1],d={connect:function(){return new Promise((function(e,t){var c=Object(L.io)();c.on("connect",(function(){r(!0),o(c),e(c)})),c.on("connect_error",(function(){t()})),c.on("connect_timeout",(function(){t()})),c.on("disconnect",(function(){r(!1)}))}))},connected:s,socket:l};return Object(k.jsx)(A.Provider,{value:d,children:t})},z=c(50),H=c.n(z),M=function(e){var t=Object(O.g)(),c=Object(a.useState)(!1),n=Object(x.a)(c,2),s=n[0],r=n[1],i=G(),j=i.connect,l=i.connected,o=i.socket,d=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0),l?h(o):j().then((function(e){h(e)}),(function(){e.setError("Failed to connect to server."),r(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(e){e.emit("create-match",(function(e){r(!1),t.push("/game/".concat(e))}))};return Object(k.jsxs)(f.a,{variant:"outline-primary",className:"w-100",onClick:d,disabled:s,children:[Object(k.jsx)("i",{className:"fas fa-plus"})," Create Match"]})},T=function(){var e=I().currentUser,t=Object(a.useState)(""),c=Object(x.a)(t,2),n=c[0],s=c[1];return Object(k.jsxs)("div",{className:"w-100",children:[n&&Object(k.jsx)(v.a,{variant:"danger",className:"shadow",children:n}),Object(k.jsxs)(R.a,{children:[Object(k.jsx)(F.a,{md:9,className:"mb-3",children:Object(k.jsx)(E.a,{className:"content-card shadow",children:Object(k.jsx)(E.a.Body,{children:Object(k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(k.jsx)("p",{className:"text-title",children:e.email}),Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsx)(H.a,{animateToNumber:1e3})," ",Object(k.jsx)("i",{className:"fas fa-trophy mx-1"})]})]})})})}),Object(k.jsx)(F.a,{className:"mb-3",children:Object(k.jsx)(E.a,{className:"content-card shadow",children:Object(k.jsx)(E.a.Body,{children:Object(k.jsx)("div",{className:"d-flex justify-content-end w-100",children:Object(k.jsx)(M,{setError:s})})})})})]}),Object(k.jsxs)(R.a,{className:"h-100",children:[Object(k.jsx)(F.a,{md:3,className:"h-100 mb-3",children:Object(k.jsx)(E.a,{className:"content-card shadow",style:{height:"500px"},children:Object(k.jsx)(E.a.Body,{children:Object(k.jsxs)("p",{className:"text-title",children:["Statistics ",Object(k.jsx)("i",{className:"fas fa-chart-pie"})]})})})}),Object(k.jsx)(F.a,{className:"mb-3",children:Object(k.jsx)(E.a,{className:"content-card shadow",style:{height:"500px"},children:Object(k.jsx)(E.a.Body,{children:Object(k.jsxs)("p",{className:"text-title",children:["Match History ",Object(k.jsx)("i",{className:"fas fa-history"})]})})})})]})]})},W=function(){return Object(k.jsx)(E.a,{className:"shadow",style:{borderRadius:"15px",padding:"30px"},children:Object(k.jsxs)(E.a.Body,{children:[Object(k.jsx)("h2",{children:"Competitive RPS Action"}),Object(k.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(k.jsx)("p",{style:{width:"100%",textAlign:"right"},children:"filler text this is filler text i am filling up this space with text because i need it to look like there is actually something here please disregard what this actually says thank you."})})]})})},K=function(){var e=I().currentUser;return Object(k.jsx)("div",{className:"w-100 h-100",children:e?Object(k.jsx)(T,{}):Object(k.jsx)(W,{})})},J=c(145),_=c(90),X=function(){return Object(k.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100 h-100 p-5",style:{flexGrow:1},children:Object(k.jsx)("div",{className:"loader"})})},Q=function(e){var t=e.matchData["player".concat(e.player,"Score")]>=e.number,c={backgroundColor:t?"#0275d8":"white",border:t?"none":"2px solid gray",borderRadius:"50%",width:"20px",height:"20px",margin:"0 5px"};return Object(k.jsx)("div",{style:c})},V=function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(k.jsx)("p",{className:"player-title",children:e.matchData.player1}),Object(k.jsx)("p",{className:"player-title",children:e.matchData.player2})]}),Object(k.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsx)(Q,{number:1,player:1,matchData:e.matchData}),Object(k.jsx)(Q,{number:2,player:1,matchData:e.matchData}),Object(k.jsx)(Q,{number:3,player:1,matchData:e.matchData})]}),Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsx)(Q,{number:1,player:2,matchData:e.matchData}),Object(k.jsx)(Q,{number:2,player:2,matchData:e.matchData}),Object(k.jsx)(Q,{number:3,player:2,matchData:e.matchData})]})]})]})},Y=function(e){var t={backgroundColor:e.colored.buttonId===e.buttonId?e.colored.shade:"#696969"};return Object(k.jsx)("button",{className:"game-button",style:t,id:e.buttonId,disabled:e.disabled,onClick:function(){return e.handleClick(e.buttonId)},children:Object(k.jsx)("i",{className:"far fa-hand-".concat(e.buttonId)})})},Z=function(e){var t=Object(a.useState)({buttonId:"none",shade:"#696969"}),c=Object(x.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)("none"),i=Object(x.a)(r,2),j=i[0],l=i[1];Object(a.useEffect)((function(){var t=e.matchStatus;"between-rounds"===t.state?s({buttonId:j,shade:t.data.winner===e.currentUser.email?"green":"tie"===t.data.winner?"yellow":"red"}):"in-progress"===t.state&&s({buttonId:j,shade:"#0275d8"})}),[j,e.matchStatus]),Object(a.useEffect)((function(){"in-progress"===e.matchStatus.state&&(e.disableButtons(!1),l("none"))}),[e.matchStatus.state]);var o=function(t){e.socket.emit("send-move",e.currentUser,e.gameId,t),e.disableButtons(!0),l(t)};return Object(k.jsxs)("div",{className:"game-buttons",children:[Object(k.jsx)(Y,{disabled:e.disabled,handleClick:o,buttonId:"rock",colored:n}),Object(k.jsx)(Y,{disabled:e.disabled,handleClick:o,buttonId:"paper",colored:n}),Object(k.jsx)(Y,{disabled:e.disabled,handleClick:o,buttonId:"scissors",colored:n})]})},$=function(e){return Object(k.jsx)(H.a,{animateToNumber:e.count})},ee=function(e){return Object(k.jsxs)("p",{style:{fontSize:"40px",textAlign:"center"},children:[e.matchStatus.data.winner," wins!"]})},te=function(){var e=Object(O.h)().gameId,t=I().currentUser,c=G(),n=c.connected,s=c.connect,r=c.socket,i=Object(a.useState)(!0),j=Object(x.a)(i,2),l=j[0],o=j[1],d=Object(a.useState)(!1),h=Object(x.a)(d,2),m=h[0],p=h[1],v=Object(a.useState)(),g=Object(x.a)(v,2),y=g[0],w=g[1],N=Object(a.useState)("waiting-for-players"),C=Object(x.a)(N,2),D=C[0],B=C[1],P=Object(O.g)(),U=Object(a.useRef)();Object(a.useEffect)((function(){return function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var R=function(){var c=Object(b.a)(u.a.mark((function c(){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(){var c=Object(b.a)(u.a.mark((function c(a,i){var j;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(j=r,n){c.next=5;break}return c.next=4,s();case 4:j=c.sent;case 5:j.emit("join-match",t,e,(function(t){if(t){var c=S.collection("active-matches").doc(e).onSnapshot((function(e){w(e.data()),B(e.data().status),o(!1)}));a(c)}else P.push("/")}));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()));case 1:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(k.jsx)(E.a,{className:"w-100 content-card shadow mb-5",children:Object(k.jsx)(E.a.Body,{className:"d-flex flex-column",style:{minHeight:"500px",boxSizing:"border-box"},children:l?Object(k.jsx)(X,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(V,{matchData:y}),Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{flexGrow:1},children:"waiting-for-players"===D.state?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{children:"Waiting for players..."}),Object(k.jsxs)(J.a,{style:{width:"450px"},children:[Object(k.jsx)(_.a,{value:window.location.href,readOnly:!0,ref:U}),Object(k.jsx)(f.a,{variant:"primary",onClick:function(){U.current.select(),U.current.setSelectionRange(0,99999),document.execCommand("copy")},children:Object(k.jsx)("i",{className:"fas fa-clipboard"})})]})]}):"starting"===D.state?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{children:"Match starting in..."}),Object(k.jsx)($,{count:D.data.count})]}):"in-progress"===D.state||"between-rounds"===D.state?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Z,{disabled:m,socket:r,gameId:e,currentUser:t,disableButtons:p,matchStatus:D}),Object(k.jsx)($,{count:D.data.count})]}):"complete"===D.state?Object(k.jsx)(ee,{matchStatus:D}):Object(k.jsx)("div",{children:"uh oh"})})]})})})},ce=c(93),ae=function(e){var t=Object.assign({},e);return I().currentUser?Object(k.jsx)(O.b,Object(ce.a)({},t)):Object(k.jsx)(O.a,{to:"/login"})},ne=c(147),se=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),n=I().signup,s=Object(O.g)(),r=Object(a.useState)(""),i=Object(x.a)(r,2),j=i[0],l=i[1],o=Object(a.useState)(!1),d=Object(x.a)(o,2),m=d[0],p=d[1],g=function(){var a=Object(b.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),t.current.value===c.current.value){a.next=3;break}return a.abrupt("return",l("Passwords do not match."));case 3:return a.prev=3,l(""),p(!0),a.next=8,n(e.current.value,t.current.value);case 8:s.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),l("Failed to create account.");case 14:p(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}();return Object(k.jsx)(E.a,{className:"shadow content-card card-2",children:Object(k.jsxs)(E.a.Body,{children:[Object(k.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),j&&Object(k.jsx)(v.a,{variant:"danger",children:j}),Object(k.jsxs)(ne.a,{className:"mb-4",onSubmit:g,children:[Object(k.jsxs)(ne.a.Group,{id:"email",className:"mb-2",children:[Object(k.jsx)(ne.a.Label,{children:"Email"}),Object(k.jsx)(ne.a.Control,{type:"email",ref:e,required:!0})]}),Object(k.jsxs)(ne.a.Group,{id:"password",className:"mb-2",children:[Object(k.jsx)(ne.a.Label,{children:"Password"}),Object(k.jsx)(ne.a.Control,{type:"password",ref:t,required:!0})]}),Object(k.jsxs)(ne.a.Group,{id:"confirm-password",className:"mb-4",children:[Object(k.jsx)(ne.a.Label,{children:"Confirm Password"}),Object(k.jsx)(ne.a.Control,{type:"password",ref:c,required:!0})]}),Object(k.jsxs)(f.a,{disabled:m,type:"submit",className:"w-100",children:[Object(k.jsx)("i",{className:"far fa-edit"})," Sign Up"]})]}),Object(k.jsx)("div",{className:"text-center mt-4",children:Object(k.jsxs)("p",{children:["Already have an account? ",Object(k.jsx)(h.b,{to:"/login",children:"Log in"})]})})]})})},re=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=I().login,n=Object(O.g)(),s=Object(a.useState)(""),r=Object(x.a)(s,2),i=r[0],j=r[1],l=Object(a.useState)(!1),o=Object(x.a)(l,2),d=o[0],m=o[1],p=function(){var a=Object(b.a)(u.a.mark((function a(s){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.prev=1,j(""),m(!0),a.next=6,c(e.current.value,t.current.value);case 6:n.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),j("Failed to login.");case 12:m(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}();return Object(k.jsx)(E.a,{className:"shadow content-card card-2",children:Object(k.jsxs)(E.a.Body,{children:[Object(k.jsx)("h2",{className:"mb-2 text-center",children:"Login"}),i&&Object(k.jsx)(v.a,{variant:"danger",children:i}),Object(k.jsxs)(ne.a,{children:[Object(k.jsxs)(ne.a.Group,{id:"email",className:"mb-2",children:[Object(k.jsx)(ne.a.Label,{children:"Email"}),Object(k.jsx)(ne.a.Control,{type:"email",ref:e,required:!0})]}),Object(k.jsxs)(ne.a.Group,{id:"password",className:"mb-2",children:[Object(k.jsx)(ne.a.Label,{children:"Password"}),Object(k.jsx)(ne.a.Control,{type:"password",ref:t,required:!0})]}),Object(k.jsx)(f.a,{disabled:d,type:"submit",className:"w-100 mt-4",onClick:p,children:"Login"})]}),Object(k.jsx)("div",{className:"mt-4 text-center",children:Object(k.jsxs)("p",{children:["Don't have an account? ",Object(k.jsx)(h.b,{to:"/signup",children:"Sign up"})]})})]})})},ie=c(146),je=function(e){Object(l.a)(c,e);var t=Object(o.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(j.a)(c,[{key:"render",value:function(){return Object(k.jsx)(D,{children:Object(k.jsxs)(h.a,{children:[Object(k.jsx)(U,{}),Object(k.jsx)(ie.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"calc(100vh - 225px",margin:"50px auto"},children:Object(k.jsx)(O.d,{children:Object(k.jsxs)(q,{children:[Object(k.jsx)(O.b,{path:"/",exact:!0,component:K}),Object(k.jsx)(O.b,{path:"/login",component:re}),Object(k.jsx)(O.b,{path:"/signup",component:se}),Object(k.jsx)(ae,{path:"/game/:gameId",component:te})]})})})]})})}}]),c}(n.a.Component);c(139);r.a.render(Object(k.jsx)(je,{}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.d550a148.chunk.js.map