(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{131:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(28),r=c.n(s),i=c(72),j=c(73),o=c(82),l=c(81),d=c(13),u=c.n(d),b=c(26),h=c(9),O=c(20),x=c(10),p=c(134),m=c(135),f=c(138),v=c(49),g={apiKey:"AIzaSyBaIFCic3PdUDmvCIMNPdSNpBuap4gpE2o",authDomain:"rock-paper-scissors-onli-dc6c4.firebaseapp.com",projectId:"rock-paper-scissors-onli-dc6c4",storageBucket:"rock-paper-scissors-onli-dc6c4.appspot.com",messagingSenderId:"97204497145",appId:"1:97204497145:web:3dd9899fc51de2d9929028",measurementId:"G-7TP1KX6P4K"},y=(c(90),c(132),v.a.initializeApp(g)),w=y.auth(),N=v.a.firestore(),k=c(2),S=Object(a.createContext)(),C=function(){return Object(a.useContext)(S)},I=function(e){var t=e.children,c=Object(a.useState)(),n=Object(h.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(!0),j=Object(h.a)(i,2),o=j[0],l=j[1];Object(a.useEffect)((function(){return w.onAuthStateChanged((function(e){r(e),l(!1)}))}),[]);var d={currentUser:s,signup:function(e,t){return w.createUserWithEmailAndPassword(e,t)},login:function(e,t){return w.signInWithEmailAndPassword(e,t)},signout:function(){return w.signOut()}};return Object(k.jsx)(S.Provider,{value:d,children:!o&&t})},D={display:"flex",justifyContent:"space-between"},P={height:"125px",width:"100%",maxWidth:"1500px",margin:"0 auto",backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"0 0 15px 15px"},B=function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(O.b,{to:"/login",children:Object(k.jsxs)(m.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"far fa-user"})," Login"]})}),Object(k.jsx)(O.b,{to:"/signup",children:Object(k.jsxs)(m.a,{variant:"outline-primary",style:{marginLeft:"15px"},children:[Object(k.jsx)("i",{className:"far fa-edit"})," Sign Up"]})})]})},U=function(){var e=C(),t=e.currentUser,c=e.signout,n=Object(a.useState)(!1),s=Object(h.a)(n,2),r=s[0],i=s[1],j=Object(a.useState)(""),o=Object(h.a)(j,2),l=o[0],d=o[1],O=Object(x.g)(),p=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(""),i(!0),e.next=5,c();case 5:O.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d("Failed to sign out");case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[l&&Object(k.jsx)(f.a,{variant:"danger",children:l}),Object(k.jsx)(m.a,{disabled:r,variant:"link",onClick:p,children:"Sign Out"}),Object(k.jsx)("p",{style:{display:"inline"},children:t.email})]})},E=function(){var e=C().currentUser;return Object(k.jsx)("div",{className:"shadow",style:P,children:Object(k.jsxs)(p.a,{style:D,children:[Object(k.jsx)(O.b,{to:"/",style:{textDecoration:"none",color:"black"},children:Object(k.jsxs)("h2",{children:[Object(k.jsx)("i",{className:"fas fa-signal",style:{color:"#0275d8"}})," Rock Paper Scissors Online"]})}),Object(k.jsx)("div",{style:{display:"flex",alignItems:"center"},children:e?Object(k.jsx)(U,{}):Object(k.jsx)(B,{})})]})})},R=c(140),F=c(136),L=c(78),A=c(77),G=Object(a.createContext)(),q=function(){return Object(a.useContext)(G)},M=function(e){var t=e.children,c=Object(a.useState)(!1),n=Object(h.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(),j=Object(h.a)(i,2),o=j[0],l=j[1],d={connect:function(){return new Promise((function(e,t){var c=Object(A.io)();c.on("connect",(function(){r(!0),l(c),e(c)})),c.on("connect_error",(function(){t()})),c.on("connect_timeout",(function(){t()})),c.on("disconnect",(function(){r(!1)}))}))},connected:s,socket:o};return Object(k.jsx)(G.Provider,{value:d,children:t})},W=function(e){var t=Object(x.g)(),c=Object(a.useState)(!1),n=Object(h.a)(c,2),s=n[0],r=n[1],i=q(),j=i.connect,o=i.connected,l=i.socket,d=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0),o?O(l):j().then((function(e){O(e)}),(function(){e.setError("Failed to connect to server."),r(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(e){e.emit("create-match",(function(e){r(!1),t.push("/game/".concat(e))}))};return Object(k.jsxs)(m.a,{variant:"outline-primary",className:"w-100",onClick:d,disabled:s,children:[Object(k.jsx)("i",{className:"fas fa-plus"})," Create Match"]})},z=function(){var e=C().currentUser,t=Object(a.useState)(""),c=Object(h.a)(t,2),n=c[0],s=c[1];return Object(k.jsxs)("div",{className:"w-100",children:[n&&Object(k.jsx)(f.a,{variant:"danger",className:"shadow",children:n}),Object(k.jsxs)(F.a,{className:"mb-4",children:[Object(k.jsx)(L.a,{xs:9,children:Object(k.jsx)(R.a,{className:"content-card shadow",children:Object(k.jsx)(R.a.Body,{children:Object(k.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(k.jsx)("h3",{children:e.email}),Object(k.jsxs)("h4",{children:["1783 ",Object(k.jsx)("i",{className:"fas fa-trophy"})]})]})})})}),Object(k.jsx)(L.a,{children:Object(k.jsx)(R.a,{className:"content-card shadow",children:Object(k.jsx)(R.a.Body,{children:Object(k.jsx)("div",{className:"d-flex justify-content-end w-100",children:Object(k.jsx)(W,{setError:s})})})})})]}),Object(k.jsxs)(F.a,{className:"h-100",children:[Object(k.jsx)(L.a,{xs:3,className:"h-100",children:Object(k.jsx)(R.a,{className:"content-card shadow",style:{height:"500px"},children:Object(k.jsx)(R.a.Body,{children:Object(k.jsxs)("h4",{children:["Statistics ",Object(k.jsx)("i",{className:"fas fa-chart-pie"})]})})})}),Object(k.jsx)(L.a,{children:Object(k.jsx)(R.a,{className:"content-card shadow",style:{height:"500px"},children:Object(k.jsx)(R.a.Body,{children:Object(k.jsxs)("h4",{children:["Match History ",Object(k.jsx)("i",{className:"fas fa-history"})]})})})})]})]})},K=function(){return Object(k.jsx)(R.a,{className:"shadow",style:{borderRadius:"15px",padding:"30px"},children:Object(k.jsxs)(R.a.Body,{children:[Object(k.jsx)("h2",{children:"Competitive RPS Action"}),Object(k.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(k.jsx)("p",{style:{width:"100%",textAlign:"right"},children:"filler text this is filler text i am filling up this space with text because i need it to look like there is actually something here please disregard what this actually says thank you."})})]})})},H=function(){var e=C().currentUser;return Object(k.jsx)("div",{className:"w-100 h-100",children:e?Object(k.jsx)(z,{}):Object(k.jsx)(K,{})})},J=c(137),T=c(80),_=function(){return Object(k.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100 h-100 p-5",children:Object(k.jsx)("div",{className:"loader"})})},X=function(e){var t=e.matchData["player".concat(e.player,"Score")]>=e.number,c={backgroundColor:t?"#0275d8":"white",border:t?"none":"2px solid gray",borderRadius:"50%",width:"20px",height:"20px",margin:"0 5px"};return Object(k.jsx)("div",{style:c})},Q=function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(k.jsx)("h2",{children:e.matchData.player1}),Object(k.jsx)("h2",{children:e.matchData.player2})]}),Object(k.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsx)(X,{number:1,player:1,matchData:e.matchData}),Object(k.jsx)(X,{number:2,player:1,matchData:e.matchData}),Object(k.jsx)(X,{number:3,player:1,matchData:e.matchData})]}),Object(k.jsxs)("div",{className:"d-flex",children:[Object(k.jsx)(X,{number:1,player:2,matchData:e.matchData}),Object(k.jsx)(X,{number:2,player:2,matchData:e.matchData}),Object(k.jsx)(X,{number:3,player:2,matchData:e.matchData})]})]})]})},V=function(e){var t={backgroundColor:e.colored.buttonId===e.buttonId?e.colored.shade:"#696969"};return Object(k.jsx)("button",{className:"game-button",style:t,id:e.buttonId,disabled:e.disabled,onClick:function(){return e.handleClick(e.buttonId)},children:Object(k.jsx)("i",{className:"far fa-hand-".concat(e.buttonId)})})},Y=function(e){var t=Object(a.useState)({buttonId:"none",shade:"#696969"}),c=Object(h.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)("none"),i=Object(h.a)(r,2),j=i[0],o=i[1];Object(a.useEffect)((function(){var t=e.matchStatus;"between-rounds"===t.state?s({buttonId:j,shade:t.data.winner===e.currentUser.email?"green":"tie"===t.data.winner?"yellow":"red"}):"in-progress"===t.state&&s({buttonId:j,shade:"#0275d8"})}),[j,e.matchStatus]),Object(a.useEffect)((function(){"in-progress"===e.matchStatus.state&&(e.disableButtons(!1),o("none"))}),[e.matchStatus.state]);var l=function(t){e.socket.emit("send-move",e.currentUser,e.gameId,t),e.disableButtons(!0),o(t)};return Object(k.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(k.jsx)(V,{disabled:e.disabled,handleClick:l,buttonId:"rock",colored:n}),Object(k.jsx)(V,{disabled:e.disabled,handleClick:l,buttonId:"paper",colored:n}),Object(k.jsx)(V,{disabled:e.disabled,handleClick:l,buttonId:"scissors",colored:n})]})},Z=c(79),$=c.n(Z),ee=function(e){return Object(k.jsx)($.a,{animateToNumber:e.count})},te=function(e){return Object(k.jsxs)("p",{style:{fontSize:"40px"},children:[e.matchStatus.data.winner," wins!"]})},ce=function(){var e=Object(x.h)().gameId,t=C().currentUser,c=q(),n=c.connected,s=c.connect,r=c.socket,i=Object(a.useState)(!0),j=Object(h.a)(i,2),o=j[0],l=j[1],d=Object(a.useState)(!1),O=Object(h.a)(d,2),p=O[0],f=O[1],v=Object(a.useState)(),g=Object(h.a)(v,2),y=g[0],w=g[1],S=Object(a.useState)("waiting-for-players"),I=Object(h.a)(S,2),D=I[0],P=I[1],B=Object(x.g)(),U=Object(a.useRef)();Object(a.useEffect)((function(){return function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var E=function(){var c=Object(b.a)(u.a.mark((function c(){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(){var c=Object(b.a)(u.a.mark((function c(a,i){var j;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(j=r,n){c.next=5;break}return c.next=4,s();case 4:j=c.sent;case 5:j.emit("join-match",t,e,(function(t){if(t){var c=N.collection("active-matches").doc(e).onSnapshot((function(e){w(e.data()),P(e.data().status),l(!1)}));a(c)}else B.push("/")}));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()));case 1:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(k.jsx)(R.a,{className:"w-100 content-card shadow",style:{height:"calc(100vh - 225px"},children:Object(k.jsx)(R.a.Body,{children:o?Object(k.jsx)(_,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Q,{matchData:y}),Object(k.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{height:"520px"},children:"waiting-for-players"===D.state?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{children:"Waiting for players..."}),Object(k.jsxs)(J.a,{style:{width:"450px"},children:[Object(k.jsx)(T.a,{value:window.location.href,readOnly:!0,ref:U}),Object(k.jsx)(m.a,{variant:"primary",onClick:function(){U.current.select(),U.current.setSelectionRange(0,99999),document.execCommand("copy")},children:Object(k.jsx)("i",{className:"fas fa-clipboard"})})]})]}):"starting"===D.state?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{children:"Match starting in..."}),Object(k.jsx)(ee,{count:D.data.count})]}):"in-progress"===D.state||"between-rounds"===D.state?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Y,{disabled:p,socket:r,gameId:e,currentUser:t,disableButtons:f,matchStatus:D}),Object(k.jsx)(ee,{count:D.data.count})]}):"complete"===D.state?Object(k.jsx)(te,{matchStatus:D}):Object(k.jsx)("div",{children:"uh oh"})})]})})})},ae=c(83),ne=function(e){var t=Object.assign({},e);return C().currentUser?Object(k.jsx)(x.b,Object(ae.a)({},t)):Object(k.jsx)(x.a,{to:"/login"})},se=c(139),re=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),n=C().signup,s=Object(x.g)(),r=Object(a.useState)(""),i=Object(h.a)(r,2),j=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(h.a)(l,2),p=d[0],v=d[1],g=function(){var a=Object(b.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),t.current.value===c.current.value){a.next=3;break}return a.abrupt("return",o("Passwords do no match"));case 3:return a.prev=3,o(""),v(!0),a.next=8,n(e.current.value,t.current.value);case 8:s.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),o("Failed to create account");case 14:v(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}();return Object(k.jsx)(R.a,{className:"shadow content-card card-2",children:Object(k.jsxs)(R.a.Body,{children:[Object(k.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),j&&Object(k.jsx)(f.a,{variant:"danger",children:j}),Object(k.jsxs)(se.a,{className:"mb-4",onSubmit:g,children:[Object(k.jsxs)(se.a.Group,{id:"email",className:"mb-2",children:[Object(k.jsx)(se.a.Label,{children:"Email"}),Object(k.jsx)(se.a.Control,{type:"email",ref:e,required:!0})]}),Object(k.jsxs)(se.a.Group,{id:"password",className:"mb-2",children:[Object(k.jsx)(se.a.Label,{children:"Password"}),Object(k.jsx)(se.a.Control,{type:"password",ref:t,required:!0})]}),Object(k.jsxs)(se.a.Group,{id:"confirm-password",className:"mb-4",children:[Object(k.jsx)(se.a.Label,{children:"Confirm Password"}),Object(k.jsx)(se.a.Control,{type:"password",ref:c,required:!0})]}),Object(k.jsxs)(m.a,{disabled:p,type:"submit",className:"w-100",children:[Object(k.jsx)("i",{className:"far fa-edit"})," Sign Up"]})]}),Object(k.jsx)("div",{className:"text-center mt-4",children:Object(k.jsxs)("p",{children:["Already have an account? ",Object(k.jsx)(O.b,{to:"/login",children:"Log in"})]})})]})})},ie=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=C().login,n=Object(x.g)(),s=Object(a.useState)(""),r=Object(h.a)(s,2),i=r[0],j=r[1],o=Object(a.useState)(!1),l=Object(h.a)(o,2),d=l[0],p=l[1],v=function(){var a=Object(b.a)(u.a.mark((function a(s){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.prev=1,j(""),p(!0),a.next=6,c(e.current.value,t.current.value);case 6:n.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),j("Failed to login");case 12:p(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}();return Object(k.jsx)(R.a,{className:"shadow content-card card-2",children:Object(k.jsxs)(R.a.Body,{children:[Object(k.jsx)("h2",{className:"mb-2 text-center",children:"Login"}),i&&Object(k.jsx)(f.a,{variant:"danger",children:i}),Object(k.jsxs)(se.a,{children:[Object(k.jsxs)(se.a.Group,{id:"email",className:"mb-2",children:[Object(k.jsx)(se.a.Label,{children:"Email"}),Object(k.jsx)(se.a.Control,{type:"email",ref:e,required:!0})]}),Object(k.jsxs)(se.a.Group,{id:"password",className:"mb-2",children:[Object(k.jsx)(se.a.Label,{children:"Password"}),Object(k.jsx)(se.a.Control,{type:"password",ref:t,required:!0})]}),Object(k.jsx)(m.a,{disabled:d,type:"submit",className:"w-100 mt-4",onClick:v,children:"Login"})]}),Object(k.jsx)("div",{className:"mt-4 text-center",children:Object(k.jsxs)("p",{children:["Don't have an account? ",Object(k.jsx)(O.b,{to:"/signup",children:"Sign up"})]})})]})})},je=function(e){Object(o.a)(c,e);var t=Object(l.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(j.a)(c,[{key:"render",value:function(){return Object(k.jsx)(I,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(E,{}),Object(k.jsx)(p.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"calc(100vh - 225px",margin:"50px auto"},children:Object(k.jsx)(x.d,{children:Object(k.jsxs)(M,{children:[Object(k.jsx)(x.b,{path:"/",exact:!0,component:H}),Object(k.jsx)(x.b,{path:"/login",component:ie}),Object(k.jsx)(x.b,{path:"/signup",component:re}),Object(k.jsx)(ne,{path:"/game/:gameId",component:ce})]})})})]})})}}]),c}(n.a.Component);c(130);r.a.render(Object(k.jsx)(je,{}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.4ac25bc2.chunk.js.map